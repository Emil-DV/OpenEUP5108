#!/bin/sh
progname=$(cd "$(dirname "$1")" && pwd)/$(basename "$1")

EUPASM $progname.asm
if [ $? -ne 0 ]; then
  echo -n "Continue? (Y/n): "
  read answer

  # Check user's answer
  case $answer in
      [Yy]*|"") 
          # Run second command if user agrees or enters nothing (default to yes)
          EUPEMU $progname.rom 20000000 R
          ;;
      *) 
          # If user says no or anything else, do nothing
          exit 1
          ;;
  esac
fi
EUPEMU $progname.rom 200000000 R

